<div class="profile-wrapper">
  <div class="card profile-card shadow-lg border-0 rounded-4 p-4 animate__animated animate__fadeIn">
 
    <h4 class="text-dark fw-bold mb-4 border-bottom pb-2">
      <i class="fa-solid fa-user-pen me-2 text-primary"></i> Doctor Profile
    </h4>
 
    <!-- Profile Photo Section -->
    <div class="text-center mb-4">
      <div class="position-relative d-inline-block">
        <img
          [src]="previewUrl"
          alt="Doctor Photo"
          class="rounded-circle border border-3"
          style="width: 130px; height: 130px; object-fit: cover;"
          (error)="previewUrl = 'assets/default-profile.png'"
        />
        <label *ngIf="editMode" for="photoUpload"
               class="position-absolute bottom-0 end-0 bg-white border rounded-circle p-2 shadow-sm"
               title="Upload Photo" style="cursor: pointer;">
          <i class="fa-solid fa-camera text-primary"></i>
        </label>
      </div>
      <input type="file" id="photoUpload" accept="image/*" class="d-none" (change)="onFileSelected($event)" />
      <p *ngIf="editMode" class="mt-2 text-dark">Upload picture</p>
    </div><br>
 
    <!-- View Mode -->
    <div *ngIf="!editMode" class="animate__animated animate__fadeIn">
      <div class="row g-4 text-dark">
        <div class="col-md-6">
          <h4 class="text-primary fw-bold mb-3">
            <i class="fa-solid text-dark fa-user me-2"></i> {{ profileData?.name }}
          </h4><br>
          <p><i class="fa-solid fa-graduation-cap me-2 text-dark"></i><strong>Education -</strong> &nbsp; {{ profileData?.education }}</p>
          <p><i class="fa-solid fa-briefcase me-2 text-dark"></i><strong>Experience:-</strong> &nbsp;{{ profileData?.experienceYears }} years</p>
        </div><br>
        <div class="col-md-6">
          <p><i class="fa-solid fa-stethoscope me-2 text-dark"></i><strong>Specialization -</strong> &nbsp; {{ profileData?.specialization }}</p>
          <p><i class="fa-solid fa-location-dot me-2 text-dark"></i><strong>Address -</strong>  &nbsp;{{ profileData?.address }}</p>
        </div>
      </div>
 
      <div class="mt-4 text-end">
        <button class="btn btn-outline-dark px-4 rounded-pill shadow-sm" (click)="enableEdit()">
          <i class="fa-solid fa-pen-to-square text-dark me-2"></i> Update Profile
        </button>
      </div>
    </div>
 
    <!-- Edit Mode -->
    <form *ngIf="editMode" [formGroup]="profileForm" (ngSubmit)="submit()" class="animate__animated animate__fadeIn text-light">
      <div class="row g-4">
        <div class="col-md-6">
          <label class="form-label fw-semibold text-dark">Full Name</label>
          <input formControlName="name" type="text" class="form-control shadow-sm" />
 
          <label class="form-label fw-semibold mt-3 text-dark">Education</label>
          <input formControlName="education" type="text" class="form-control shadow-sm" />
 
          <label class="form-label fw-semibold mt-3 text-dark">Experience (Years)</label>
          <input formControlName="experienceYears" type="number" class="form-control shadow-sm" min="1" />
        </div>
 
        <div class="col-md-6">
          <label class="form-label fw-semibold text-dark">Specialization</label>
          <input formControlName="specialization" type="text" class="form-control shadow-sm" />
 
          <label class="form-label fw-semibold mt-3 text-dark">Address</label>
          <input formControlName="address" type="text" class="form-control shadow-sm" />
        </div>
      </div>
 
      <div class="mt-4 text-end">
        <button type="submit" class="btn btn-warning px-4 rounded-pill shadow-sm" [disabled]="loading">
          <span *ngIf="loading" class="spinner-border spinner-border-sm me-2" role="status" aria-hidden="true"></span>
          Save Changes
        </button>
        <button type="button" class="btn btn-outline-dark ms-2 px-4 rounded-pill shadow-sm" (click)="cancelEdit()" [disabled]="loading">
          Cancel
        </button>
      </div>
    </form>
 
  </div>
</div>
 
 